# Trino Teradata Export Connector - Catalog Properties
# Performance Optimized Configuration (Options B-H Applied)
#
# This file should be placed in Trino's catalog configuration directory
# (typically /etc/trino/catalog/ or $TRINO_HOME/etc/catalog/)
#
# Save as: tdexport.properties

# Connector name - must match the plugin name
connector.name=teradata-export

# ============================================================
# Teradata Connection Settings
# ============================================================

teradata.url=jdbc:teradata://192.168.137.129/DATABASE=TrinoExport
teradata.user=sysdba
teradata.password=sysdba

# Teradata server timezone offset (for TIME/TIMESTAMP conversion)
teradata.timezone=-05:00

# ============================================================
# Network/Port Settings
# ============================================================

teradata.export.flight-port=50051
teradata.export.flight-bind-address=0.0.0.0
teradata.export.bridge-port=9999
teradata.export.trino-address=172.27.251.157
teradata.export.worker-advertised-addresses=172.27.251.157:9999

# ============================================================
# Buffer/Performance Settings (OPTIMIZED)
# ============================================================

# Option G: Dramatically increased batch size (5x default)
# Reduces per-batch overhead for large data transfers
teradata.export.batch-size=500000

# Option E: Large socket buffers for high-bandwidth networks
teradata.export.socket-receive-buffer-size=134217728

# Larger input buffer for sustained throughput
teradata.export.input-buffer-size=16777216

# Higher queue capacity for burst tolerance (5x default)
teradata.export.buffer-queue-capacity=500

# More aggressive polling for lower latency
teradata.export.page-poll-timeout-ms=100

# Compression enabled by default (huge bandwidth savings)
teradata.export.compression-enabled=true

# Match CPU cores, not Teradata AMPs (reduces contention)
# Optimization #2: 16 splits for more consumer parallelism
teradata.export.splits-per-worker=16


# ============================================================
# Dynamic Filtering Settings
# ============================================================

teradata.export.dynamic-filter-timeout=10s
teradata.export.enable-dynamic-filtering=true
teradata.export.enable-aggregation-pushdown=true
teradata.export.enable-topn-pushdown=true

# ============================================================
# Security Settings
# ============================================================

teradata.export.token=enterprise-secret-123
teradata.export.enforce-proxy-authentication=true

# ============================================================
# UDF Location Settings
# ============================================================

teradata.export.udf-database=TrinoExport
teradata.export.udf-name=ExportToTrino

# ============================================================
# Schema Settings
# ============================================================

teradata.export.default-schemas=TrinoExport,default

# ============================================================
# Logging Settings
# ============================================================

teradata.export.enable-debug-logging=false
